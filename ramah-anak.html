<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ruang Ramah Anak</title>
<style>
  /* --- RESET & DASAR --- */
  html, body {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background-color: #f0f4f8; 
    overflow-x: hidden;
  }

  /* --- KONTAINER UTAMA (480px) --- */
  .container {
    max-width: 480px; 
    margin: 40px auto; 
    padding: 30px 20px;
    background: #ffffff; 
    border-radius: 24px; 
    box-shadow: 0 10px 30px rgba(32, 94, 108, 0.1); 
    box-sizing: border-box;
  }
  
  @media (max-width: 480px) {
    .container { margin: 15px auto; border-radius: 16px; }
  }

  /* --- TOMBOL KEMBALI --- */
  .btn-back {
    display: inline-flex; align-items: center; gap: 8px;
    background-color: #ffffff; color: #205E6C; border: 1px solid #205E6C;
    padding: 8px 20px; border-radius: 50px; text-decoration: none;
    font-size: 13px; font-weight: 700; box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    margin-bottom: 25px; transition: all 0.2s;
  }
  .btn-back:hover { background-color: #205E6C; color: #ffffff; }

  /* HEADER */
  .header-section { text-align: center; margin-bottom: 25px; }
  .page-title { color: #205E6C; font-weight: 800; font-size: 22px; margin: 0; }
  .page-subtitle { font-size: 13px; color: #64748b; margin-top: 5px; }

  /* 1. STATUS KARTU */
  .status-card {
    background: #E8F5E9; 
    border: 2px solid #4CAF50; 
    padding: 20px; border-radius: 16px; text-align: center;
    margin-bottom: 20px; color: #2E7D32; position: relative;
  }
  .status-badge {
    background: #4CAF50; color: white;
    padding: 5px 15px; border-radius: 50px;
    font-size: 11px; font-weight: 800; letter-spacing: 0.5px;
    display: inline-block; margin-bottom: 10px;
    box-shadow: 0 2px 5px rgba(76, 175, 80, 0.3);
  }
  .status-icon { font-size: 40px; margin-bottom: 5px; display: block; }

  /* 2. TOMBOL CCTV */
  .cctv-card {
    background: linear-gradient(135deg, #FF7043, #F4511E);
    color: white; text-decoration: none; padding: 15px 20px;
    border-radius: 16px; display: flex; align-items: center; gap: 15px;
    margin-bottom: 25px; box-shadow: 0 4px 15px rgba(255, 112, 67, 0.3);
    position: relative; overflow: hidden;
  }
  .cctv-icon { font-size: 28px; background: rgba(255,255,255,0.2); width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
  .rec-dot { width: 10px; height: 10px; background: red; border-radius: 50%; position: absolute; top: 15px; right: 15px; animation: blink 1s infinite; }
  @keyframes blink { 50% { opacity: 0; } }

  /* 3. LIST FASILITAS */
  .facility-box {
    background: white; border: 1px solid #e2e8f0;
    padding: 15px; border-radius: 16px; margin-bottom: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); text-align: left;
  }
  .box-title { font-weight: 800; color: #333; margin-bottom: 15px; border-bottom: 2px solid #FFC107; display: inline-block; padding-bottom: 3px; }
  .fac-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
  .fac-item { background: #f8fafc; padding: 10px; border-radius: 8px; font-size: 12px; display: flex; align-items: center; gap: 8px; font-weight: 600; color: #475569; }

  /* 4. TOMBOL LOKASI */
  .btn-map {
    background: #205E6C; color: white; text-decoration: none;
    padding: 15px; border-radius: 16px; margin-bottom: 35px;
    display: flex; flex-direction: column; 
    align-items: center; justify-content: center; gap: 4px;
    box-shadow: 0 4px 10px rgba(32, 94, 108, 0.2);
    transition: transform 0.2s;
  }
  .btn-map:hover { background: #1a4f5b; transform: translateY(-2px); }
  .map-title { font-weight: 800; font-size: 14px; display: flex; align-items: center; gap: 8px; }
  .map-sub { font-size: 11px; opacity: 0.8; font-weight: 400; }

  /* 5. FORMULIR PENITIPAN ANAK (DI BAWAH) */
  .ticket-form-card {
    background: #ffffff;
    border: 2px dashed #cbd5e1; /* Gaya border dashed agar terlihat seperti kupon/tiket */
    border-radius: 16px;
    padding: 25px 20px;
    text-align: left;
    box-shadow: 0 8px 20px rgba(0,0,0,0.04);
    position: relative;
  }

  .form-header {
    display: flex; align-items: center; gap: 10px;
    margin-bottom: 20px; border-bottom: 2px solid #f1f5f9;
    padding-bottom: 12px;
  }
  .form-header-icon { font-size: 24px; }
  .form-header-title { font-weight: 800; color: #205E6C; font-size: 18px; }

  .form-group { margin-bottom: 16px; }
  .form-group label {
    display: block; font-size: 13px; font-weight: 700;
    color: #475569; margin-bottom: 8px;
  }
  .form-group input[type="text"], 
  .form-group textarea {
    width: 100%; padding: 12px; border: 1px solid #cbd5e1;
    border-radius: 10px; font-family: inherit; font-size: 14px;
    box-sizing: border-box; background-color: #f8fafc; transition: all 0.2s;
  }
  .form-group input[type="text"]:focus, 
  .form-group textarea:focus {
    outline: none; border-color: #205E6C; background-color: #ffffff;
    box-shadow: 0 0 0 3px rgba(32, 94, 108, 0.1);
  }
  .form-group input[type="file"] {
    width: 100%; padding: 10px; border: 1px dashed #cbd5e1;
    border-radius: 10px; font-size: 12px; background-color: #f8fafc; color: #475569;
  }

  .btn-submit {
    background: #205E6C; color: white; border: none; padding: 15px;
    width: 100%; border-radius: 10px; font-weight: 800; font-size: 15px;
    cursor: pointer; transition: background 0.2s; margin-top: 15px;
    box-shadow: 0 4px 10px rgba(32, 94, 108, 0.2);
  }
  .btn-submit:hover { background: #164652; transform: translateY(-2px); }
  .btn-submit:disabled { background: #94a3b8; cursor: not-allowed; box-shadow: none; transform: none; }

</style>
</head>
<body>

<div class="container">

  <a href="index.html" class="btn-back">
    <span>‚ùÆ</span> Menu Utama
  </a>

  <div class="header-section">
    <div class="page-title">üë∂ Ruang Ramah Anak</div>
    <div class="page-subtitle">Area Bermain & Fasilitas lainnya</div>
  </div>

  <div class="status-card">
    <div class="status-badge">üü¢ DIBUKA / OPEN</div>
    <span class="status-icon">üß∏</span>
    <div style="font-weight: 800; font-size: 18px; margin-bottom: 5px;">AREA BERMAIN BERSAMA</div>
    <div style="font-size: 13px;">Silakan gunakan fasilitas ini untuk kenyamanan putra-putri Anda selama di lokasi.</div>
  </div>

  <a href="LINK_CCTV_DISINI" target="_blank" class="cctv-card">
    <div class="rec-dot"></div>
    <div class="cctv-icon">üìπ</div>
    <div style="text-align: left;">
      <div style="font-weight:800; font-size:15px;">PANTAU RUANGAN</div>
      <div style="font-size:11px; opacity:0.9;">Cek kepadatan area bermain</div>
    </div>
  </a>

  <div class="facility-box">
    <div class="box-title">‚ú® Fasilitas Tersedia:</div>
    <div class="fac-grid">
      <div class="fac-item"><span>üß©</span> Mainan Edukatif</div>
      <div class="fac-item"><span>üöΩ</span> Toilet Anak</div>
      <div class="fac-item"><span>‚ùÑÔ∏è</span> Ruangan AC</div>
      <div class="fac-item"><span>üßº</span> Sanitizer/Wastafel</div>
    </div>
    <div style="margin-top:15px; font-size:11px; color:#64748b; font-style:italic; text-align: center;">
      *Harap menjaga kebersihan & merapikan mainan setelah digunakan.
    </div>
  </div>

  <a href="https://maps.app.goo.gl/JDUhWyHAEHc8vDc76" target="_blank" class="btn-map">
    <div class="map-title">üìç Cek Lokasi Ruangan</div>
    <div class="map-sub">(Berada di sebelah Kantin Gedung H)</div>
  </a>

  <div class="ticket-form-card" id="form-reservasi">
    <div class="form-header">
      <div class="form-header-icon">üìù</div>
      <div class="form-header-title">Formulir Penitipan Anak</div>
    </div>
    
    <form id="formAnak" name="submit-to-google-sheet">
      <div class="form-group">
        <label for="namaOrtu">Nama Orang Tua</label>
        <input type="text" id="namaOrtu" name="namaOrtu" placeholder="Nama Peserta Diklat" required>
      </div>

      <div class="form-group">
        <label for="namaAnak">Nama Anak & Usia</label>
        <input type="text" id="namaAnak" name="namaAnak" placeholder="Contoh: Arka (3 Tahun)" required>
      </div>

      <div class="form-group">
        <label for="jamTitip">Rencana Jam Penitipan</label>
        <input type="text" id="jamTitip" name="jamTitip" placeholder="Contoh: 08.00 - 12.00" required>
      </div>
      
      <div class="form-group">
        <label for="catatan">Catatan Khusus</label>
        <textarea id="catatan" name="catatan" rows="2" placeholder="Contoh: Alergi makanan, jadwal minum susu, dll..."></textarea>
      </div>

      <div class="form-group">
        <label for="foto">Foto Anak <span style="font-weight: normal; color: #64748b;">(Opsional)</span></label>
        <input type="file" id="foto" accept="image/png, image/jpeg, image/jpg">
        <div style="font-size: 11px; color: #94a3b8; margin-top: 5px;">*Lampirkan foto anak untuk identifikasi petugas.</div>
      </div>
      
      <button type="submit" class="btn-submit" id="btnSubmit">KIRIM RESERVASI</button>
    </form>
  </div>

</div>

<script>
  // PENTING: GANTI DENGAN URL WEB APP 'RAMAH ANAK' ANDA
  const scriptURL = 'https://script.google.com/macros/s/AKfycbwp8sQkOEg_jyMXIzdxJz08B5mcGWGTKCpHX63ito4GJ5oOZ1eDCz0r2AQpe67lmzDlUg/exec';
  
  const form = document.forms['submit-to-google-sheet'];
  const btnSubmit = document.getElementById('btnSubmit');
  const fileInput = document.getElementById('foto');

  form.addEventListener('submit', e => {
    e.preventDefault(); 
    
    const originalText = btnSubmit.innerHTML;
    btnSubmit.innerHTML = 'MENGIRIM... ‚è≥';
    btnSubmit.disabled = true;

    const formData = new FormData(form);
    const file = fileInput.files[0];

    if (file) {
      btnSubmit.innerHTML = 'MENGUNGGAH FOTO... ‚è≥';
      const reader = new FileReader();
      reader.onload = function(event) {
        const base64Data = event.target.result.split(',')[1];
        formData.append('fileData', base64Data);
        formData.append('mimeType', file.type);
        formData.append('fileName', file.name);
        
        sendDataToGAS(formData, originalText);
      };
      reader.readAsDataURL(file);
    } else {
      sendDataToGAS(formData, originalText);
    }
  });

  function sendDataToGAS(formData, originalText) {
    fetch(scriptURL, { method: 'POST', body: formData, mode: 'no-cors' })
      .then(response => {
        alert('‚úÖ Reservasi penitipan anak berhasil dikirim! Petugas Daycare akan segera menyiapkan tempat.');
        form.reset(); 
        btnSubmit.innerHTML = originalText;
        btnSubmit.disabled = false;
      })
      .catch(error => {
        alert('‚ùå Gagal mengirim reservasi. Periksa koneksi internet Anda atau lapor manual ke petugas.');
        console.error('Error!', error);
        btnSubmit.innerHTML = originalText;
        btnSubmit.disabled = false;
      });
  }
</script>

</body>
</html>

